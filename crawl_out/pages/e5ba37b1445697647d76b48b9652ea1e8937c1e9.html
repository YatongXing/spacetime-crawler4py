<!-- URL: https://www.ics.uci.edu/~lopes/teaching/ics10/network-project.html -->
<h1>Network Project </h1>

<p>In this project, you are going to configure a simulated Internet in the virtual world, so that you can send messages from any treehouse to any other treehouse using a protocol that models the Internet Protocol. The network consists of nodes, some of them terminal (modeling home computers), others intermediary (modeling ISP routers and even backbones). Here is how they look like:</p>
<ul>
<li>This is a <strong>terminal node</strong>. The panel on the left displays the latest message received; the panel on the right is to send messages.<br /><img src="images/niagara31.png" alt="niagara31-1.png" width="800" height="437" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12911205" data-api-returntype="File" /> &nbsp;</li>
<li>This is a <strong>router</strong>; it has only one panel that shows its routing table.<br/><img style="font-family: inherit; font-size: 1rem;" src="images/niagara32.png" alt="niagara32-1.png" width="800" height="437" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12888534" data-api-returntype="File" /><span style="font-family: inherit; font-size: 1rem;">&nbsp; &nbsp;</span></li>
</ul>
<p>&nbsp;</p>
<p>At the end of the project, your terminal in your treehouse should be able to send messages to any other terminal in any treehouse of the virtual world. The Litmus test is whether messages reach the destinations or not.</p>
<p><strong>The actual work you need to to is pretty minimal</strong>, but in order to do it correctly and effectively, you need to:</p>
<ol>
<li>Understand how networks and network addresses work (see Network Lectures 1 and 2)</li>
<li>Understand how space in the virtual world is measured and represented, so you can lay virtual cables between nodes (explained down below)</li>
<li>Understand the network topology (explained down below)</li>
<li>Understand how you can configure the nodes of the simulated network (explained down below)</li>
<li>Coordinate and communicate effectively with multiple groups of students (explained down below), namely
<ul>
<li>With the up-to-8 students on your "street"</li>
<li>With the up-to-40 students on your "zone"</li>
<li>With the up-to-80 students in your half of the world</li>
</ul>
</li>
</ol>
<p>This project is as much an exercise in network configuration as it is an exercise in student coordination, because the configuration of the network is not just done by one student but by all of you! You will need to organize in groups that reflect the hierarchical structure of the simulated Internet. By doing so, you will also learn about the social and commercial aspects of the Internet.</p>
<h3>Part 1: Networks and Network Addresses</h3>
<p>Make sure to watch all the videos in the <a title="Lecture: Computer Networks" href="https://canvas.eee.uci.edu/courses/33387/pages/lecture-computer-networks" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/pages/lecture-computer-networks" data-api-returntype="Page">Network lecture in Tuesday</a>, and don't miss the <a title="Lecture (*): Computer Networks" href="https://canvas.eee.uci.edu/courses/33387/pages/lecture-star-computer-networks" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/pages/lecture-star-computer-networks" data-api-returntype="Page">live lecture on Thursday</a>&nbsp;(or watch the video afterwards).</p>
<h3>Part 2: Space in the Virtual World</h3>
<h4>Geography</h4>
<p>If you pull up the map (Cntrl-m), you will see something like this:</p>
<p><img src="images/niagara25.png" alt="niagara25.png" width="800" height="437" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12892507" data-api-returntype="File" />&nbsp;&nbsp;</p>
<p>The virtual world is divided into two halves: North side and South side. In between them, there is the ocean. You cannot cross from one half to the other by walking, but you can teleport. In the real world these correspond to continents separated by oceans, such as America and Asia.</p>
<p>Furthermore, each half is divided into 2 zones. On the South side, there is Zone 1 (green) and Zone 2 (blue); on the North side there is Zone 3 (yellow) and Zone 4 (red). In the real world, these might correspond to countries.</p>
<p><img src="images/map.png" alt="map-1.png" width="524" height="600" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12892911" data-api-returntype="File" /> &nbsp;&nbsp;&nbsp;</p>
<p>Technically, each zone is served by a separate game server, so to balance the load, but you don't need to worry about that. The only thing you need to know is that <strong>each of these zones is a square of 512x512m<sup>2</sup></strong>. Also, <strong>the North side and the South side are separated by a distance of 512m</strong>.</p>
<p>Zones, like countries, are relatively independent of each other. Specifically, <strong>the coordinates in each zone are <em>local </em>coordinates</strong> whose (0,0) point is the southwestern-most corner of each square. In each zone, the X axis (horizontal) increases left to right, and the Y axis (vertical) increases bottom to top. So, for example, the South side auditorium is, roughly between (312, 400) and (512, 512) in Zone 1 and between (0, 400) and (200, 512) in Zone 2. In each zone, you can refer to points outside of it by using coordinates that are greater than 512 (to the right / to the top) or negative (to the left / to the bottom).&nbsp; So, for example, with respect to Zone 3, the South side auditorium in Zone 1 is, roughly between (-200, -624) and (0, -512).</p>
<h4>Urban Layout</h4>
<p>From the picture above, we can see how the regions are organized. In each region there are several streets, each with two rows of treehouses (an exception is Zone 4, the street near the Boardwalk mall, which has only 4 treehouses). The streets are numbered, rather than named. Here's one example of a street number -- you will find these signs in every street:</p>
<p><img src="images/niagara35.png" alt="niagara35.png" width="600" height="328" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12892942" data-api-returntype="File" />&nbsp;&nbsp;</p>
<p><strong>Your first task is to identify the Zone and Street of your treehouse!</strong> This is very important for this project, as that will determine which groups you belong to, and which network nodes you are responsible for. So go ahead, and identify your zone/street.</p>
<p>The virtual world does not specify numbers for treehouses, but each treehouse should be associated with a number between 1 and 10 that is unique within each street. You will need to coordinate with your street neighbors, so that each of you gets a unique number; there should be no duplicates within a street.</p>
<h3>Part 3: Network Topology</h3>
<p>You are going to simulate the Internet. The Internet is a hierarchical network -- a network of networks. So is this simulated network! The following picture illustrates the hardware and connections that you will need to put in place:</p>
<p><img src="images/topology.png" alt="topology-1.png" width="600" height="688" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12908434" data-api-returntype="File" /> &nbsp;&nbsp;&nbsp;</p>
<p>Let me explain this picture in parts:</p>
<ul>
<li>The white dots are <strong>home networks</strong>, one in each treehouse. Home networks consist of <strong>one router and one or more terminals</strong>. Examples of home network connections are shown in only one street of Zone 1 (green); all others are omitted for simplicity sake</li>
<li>The colored dots (green, blue, yellow and red) are <strong>street-level routers</strong>, similar to those that Cox/Comcast places in every street in our neighborhoods. The terminal nodes of each street should connect to the corresponding street-level routers. For simplicity sake, the picture shows the connections for only one of the streets on Zone 1, but all other streets should have similar connections between the terminal nodes and the corresponding street-level routers.</li>
<li>The colored squares (green, blue, yellow, and red) are the <strong>region-level routers</strong>, similar to those that ISPs operate in cities. There should be connections between each street-level router and the corresponding region-level routers.</li>
<li>The two large orange circles are <strong>continent-level routers</strong>, also known as "<strong>backbones</strong>." These are the top layer of the network hierarchy; they have no "parents" above them, only siblings. There should be only one in the South side, and only one in the North side. They can be where the picture shows them, or you can place them elsewhere. But there should be only one backbone per continent.</li>
</ul>
<p>Independent of whether a router is a home-level, street-level, region-level, or continent-level, all routers do exactly the same thing: they route messages upstream and downstream according to their internal routing tables. For that reason, your package contains only one type of router.</p>
<h3>Part 4: Network Addresses, Physical Locations, and Configuration</h3>
<h4>Network addresses</h4>
<p>Just like IP addresses, the network addresses here are hierarchical. Our addresses consist of 4 parts: zone, street, house, and terminal. Here is an example of a network address in our simulated Internet:</p>
<pre>3.4.1.2</pre>
<p>This address identifies terminal 2 in house 1 in street 4 of zone 3. The format, in general, is <strong><em>zone.street.house.terminal,</em></strong> but some parts are optional:</p>
<ul>
<li>A home router is identified only by three parts: zone, street,house. For example: 3.4.2 is a home router.</li>
<li>A street router is identified only by two parts: zone.street. For example, 2.5 is a street router.</li>
<li>A zone router is identified only by one part: zone. For example, 2 is a zone router.</li>
<li>Backbones should be identified just by address 0.</li>
<li>Although every terminal needs a 4-part address, in sending messages to a home, the exact terminal may be omitted by using 0 in its position. For example, 3.4.1.0 identifies <em>some </em>terminal in house 3.4.1, we don't care which one.</li>
</ul>
<p>Every node in the network must be identified by an address, and that address needs to be entered in the node objects. In order to do that, right-click on the node object (terminal or router), chose "Edit", and then the tab "General." The name should be "Network Router:" or "Network Terminal:" followed by an address. Here is an example:</p>
<p><img src="images/niagara38.png" alt="niagara38.png" width="700" height="615" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12896577" data-api-returntype="File" />&nbsp;&nbsp;</p>
<h4><span style="font-family: inherit; font-size: 1rem;">Make sure to keep the words "Network Router" or "Network Terminal" followed by a ":' before entering the node's address.</span></h4>
<p><span style="font-family: inherit; font-size: 1rem;">The first time you enter the Name of a node, and every time you change it, you must reset it by right-clicking on the object, then choosing "More", then "More" again, then "Scripts", then "Reset Scripts".</span></p>
<h4>Physical Locations</h4>
<p>In order to "connect" nodes, we are going to use their spatial coordinates, so that nodes can "physically" send messages to other nodes. You can find out the coordinates of an object (for which you have permission to inspect) by right-clicking on the object, choosing "Edit", and then going to the tab "Object." Here is an example:</p>
<p><img src="images/niagara36.png" alt="niagara36-1.png" width="700" height="450" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12896289" data-api-returntype="File" /> &nbsp;&nbsp;&nbsp;</p>
<p>You only need to use the integer part of the coordinates, not the decimal part. So, round up or down for integer coordinates x, y, z.</p>
<h4>Configuration</h4>
<p>Connecting any two nodes is done by configuring their upstream and downstream routes. In this network, nodes can only have one upstream route, but many downstream ones. For example, according to the topology picture above, street-level routers connect to only one region-level router (upstream) but to many terminals (downstream).</p>
<p><strong>Upstream configuration</strong>: because there is only one, the upstream configuration is done using the object's "Description" field. Right-click on the object, chose "Edit" and then chose the "General" tab. Then fill out the Description field with the following:</p>
<pre>Upstream: x, y, z</pre>
<p>where x, y, and z are the coordinates of the upstream router to which <span style="font-family: inherit; font-size: 1rem;">the node </span><span style="font-family: inherit; font-size: 1rem;">you are configuring should be connected. Please keep the word "Upstream" followed by a ":' before entering the comma-separated coordinates. Here is an example:</span></p>
<p><span style="font-family: inherit; font-size: 1rem;"><img src="images/niagara39.png" alt="niagara39.png" width="700" height="608" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12896658" data-api-returntype="File" />&nbsp;&nbsp;</span></p>
<p><span style="font-family: inherit; font-size: 1rem;">What this means is that this node (in this case, a streel-level router) will send incoming upstream messages to location 111, 405, 23, where, supposedly, there is a region-level router.</span></p>
<p><span style="font-family: inherit; font-size: 1rem;">When you enter the upstream information for the first time, and every time you change it, you need to reset the node: right-click the object, chose "More", then "More" again, then "Scripts", then "Reset Scripts."</span></p>
<p><span style="font-family: inherit; font-size: 1rem;"><strong>Downstream configuration</strong>: because there are many downstream nodes, downstream configuration is done by dragging notecards onto the panel of the routers. The information in the notecard should include the downstream node and its coordinates, for example:</span></p>
<pre><span style="font-family: inherit; font-size: 1rem;">Node: 6<br />Position: 430, 355, 23</span></pre>
<p><span style="font-family: inherit; font-size: 1rem;">This information relates to downstream nodes, so it only needs to identify them by a single number, not three. In the example above, node 6 identifies node 6 downstream from the router that we are configuring.</span></p>
<p><span style="font-family: inherit; font-size: 1rem;">Each notecard adds exactly one entry; it does not replace what is already there! The following picture shows what happens after entering the first notecard, and then the second notecard:</span></p>
<p><span style="font-family: inherit; font-size: 1rem;"><img src="images/routers.png" alt="routers.png" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12896827" data-api-returntype="File" />&nbsp;&nbsp;</span></p>
<p><span style="font-family: inherit; font-size: 1rem;">Also, once entered, the routing information of a downstream node cannot be changed! If, for any reason, you find yourself needing to replace the coordinates of a node in a routing table of a router, you need to reset the router, which will make it erase all the information. So, before you do that. make sure to store elsewhere the information that is not supposed to change, so you can load it again. In any case, here is how you can reset routers: right-click the object, chose "More", then "More" again, then "Scripts", then "Reset Scripts."</span></p>
<h3>Part 5: Coordination and Communication</h3>
<p>In order to be able to configure the entire set of 150+ nodes, you need to coordinate with your fellow students. Here are some of the things that you need to coordinate:</p>
<ul>
<li>The assignment of router identifiers within a street (needs coordination with your street neighbors)</li>
<li>The placement and configuration of your street router (needs coordination with your street neighbors)</li>
<li>The placement and configuration of your region router (needs coordination with students in your region)</li>
<li>The placement and configuration of your backbone (needs coordination with students on each half of the world, as well as information shared between the two continents about where the backbones are placed)</li>
</ul>
<p>In order to facilitate this coordination, there are several inworld groups which you can join and use to chat (while logged in). Specifically, there are street-level groups, as well as region-level and continent-level groups. To join, click the search button on the bottom of the screen, go to groups, and type:</p>
<ul>
<li>street --&gt; chose the right street for you, and click "Join" on the bottom right of that search window</li>
<li>zone --&gt; chose the right zone for you, and click "Join" on the bottom right of that search window</li>
<li>side --&gt; chose the right side for you (North or South) , and click "Join" on the bottom right of that search window</li>
</ul>
<p>You can also organize inworld meetings in someone's treehouse using voice.&nbsp;</p>
<p>Optionally, you can organize outside of the world, in the student's <a class="instructure_file_link inline_disabled" href="https://discord.gg/PWcN2ADQqW" target="_blank" rel="noopener">Discord server</a>. Or in any other way that works for you and your groups!</p>
<p><strong>Permissions</strong></p>
<p>Objects that you place inworld belong to you, and cannot be edited by anyone else. This is a problem for street, zone, and backbone routers, because many students will, at least, need to see their inworld coordinates. Luckily, objects can be shared with groups. In order to share objects inworld, right-click and "Edit", then go to the "General" tab. Locate the "settings" button, click on it, and chose the right group to share the object with. Then check the checkbox "Share."</p>
<p><img src="images/niagara37.png" alt="niagara37.png" width="700" height="633" data-api-endpoint="https://canvas.eee.uci.edu/api/v1/courses/33387/files/12900298" data-api-returntype="File" />&nbsp;&nbsp;</p>
