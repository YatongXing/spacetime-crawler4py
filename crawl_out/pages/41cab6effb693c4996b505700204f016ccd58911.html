<!-- URL: https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2019-winter-project1-logging -->

<!DOCTYPE html>
<html lang="en-US">   <head>
    <!-- # block head (placeholder in theme.html) -->
        <!-- # block head (content inherited from layout.html) -->
    <title>
      cs122b-2019-winter-project1-logging     â€“ Public

    </title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script>
        if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
        </script><![endif]-->

    <link rel="start"  href="/wiki/public/wiki" />
    <link rel="search"  href="/wiki/public/search" />
    <link rel="help"  href="/wiki/public/wiki/TracGuide" />
    <link rel="stylesheet"  href="/wiki/public/chrome/common/css/trac.css" type="text/css" />
    <link rel="stylesheet"  href="/wiki/public/chrome/common/css/wiki.css" type="text/css" />
    <link rel="icon"  href="/wiki/public/chrome/site/favicon.ico" type="image/x-icon" />
    <link rel="alternate"  href="/wiki/public/wiki/cs122b-2019-winter-project1-logging?format=txt" title="Plain Text" type="text/x-trac-wiki" />
    <noscript>
      <style>
        .trac-noscript { display: none !important }
      </style>     </noscript>
    <script src="/wiki/public/chrome/common/js/jquery.js"></script>
    <script src="/wiki/public/chrome/common/js/babel.js"></script>
    <script src="/wiki/public/chrome/common/js/trac.js"></script>
    <script src="/wiki/public/chrome/common/js/search.js"></script>
    <script src="/wiki/public/chrome/common/js/folding.js"></script>
    <script src="/wiki/public/chrome/common/js/wiki.js"></script>
    <script>
      jQuery(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        if ($.ui) { /* is jquery-ui added? */
          $(".trac-datepicker:not([readonly])")
            .prop("autocomplete", "off").datepicker();
          // Input current date when today is pressed.
          var _goToToday = $.datepicker._gotoToday;
          $.datepicker._gotoToday = function(id) {
            _goToToday.call(this, id);
            this._selectDate(id)
          };
          $(".trac-datetimepicker:not([readonly])")
            .prop("autocomplete", "off").datetimepicker();
          $("#main").addClass("trac-nodatetimehint");
        }
        $(".trac-disable").disableSubmit(".trac-disable-determinant");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <!--   # include 'site_head.html' (layout.html) -->
    <!--   end of site_head.html -->
    <!-- # endblock head (content inherited from layout.html) -->


    <script>
      jQuery(function($) {
        wikiColumn($("#wikipage"));
      });
    </script>
    <!-- # endblock head (placeholder in theme.html) -->
  </head> 
  <body>
    <!-- # block body (content inherited from theme.html) -->
    <!--   # include 'site_header.html' (theme.html) -->
    <!--   end of site_header.html -->

    <div id="banner">
      <div id="header">
        <a id="logo"
           href="http://www.ics.uci.edu/">
          <img  alt="ICS Logo" height="67" src="/wiki/public/chrome/site/ics.jpg" width="128" /></a>


      </div>
      <form id="search" action="/wiki/public/search" method="get">
      </form>
          <div id="metanav" class="nav">
      <ul><li  class="first"><a href="/wiki/public/login">Login</a></li><li ><a href="/wiki/public/prefs">Preferences</a></li><li ><a href="/wiki/public/about">About Trac</a></li><li  class="last"><a href="/wiki/public/register">Register</a></li></ul>
    </div>

    </div>
        <div id="mainnav" class="nav">
    </div>


    <div id="main"
         >

<div id="pagepath" class="noprint">
<a class="pathentry first" title="View WikiStart"
   href="/wiki/public/wiki">wiki:</a><a href="/wiki/public/wiki/cs122b-2019-winter-project1-logging"
     title="View cs122b-2019-winter-project1-logging"
     class="pathentry">cs122b-2019-winter-project1-logging</a></div>      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li  class="first last"><a href="/wiki/public/wiki/cs122b-2019-winter-project1-logging?action=history">History</a></li>
        </ul>
        <hr />
      </div>

      

      

      <!-- # block content (placeholder in theme.html) -->
    <div id="content" class="wiki narrow">

      <div class="wikipage searchable">
        <div id="wikipage" class="trac-content borderless"><h1 class="section" id="LogginginMySQLandTomcat">Logging in MySQL and Tomcat</h1>
<p>
To develop this multi-tier application, it is very important for you to understand what's happening in each tier. Whenever you have the question "why doesn't my application work?", the first thing you should do is to use the logging of MySQL and Tomcat to understand what each tier has received, and whether there is any error. This page provides instructions on how to enable and analyze logging of MySQL and Tomcat, on both the development machine and the production/AWS machine.
</p>
<hr />
<p>
<span id="MySqlLogging"></span>
</p>
<h1 class="section" id="a1.MySQLLoggingAWSandDev">1. MySQL Logging (AWS and Dev)</h1>
<ul><li>By default MySQL doesn't enable logging.  To enable it, run the following:
<pre class="wiki">shell&gt; mysql -u root -p
mysql&gt; SET GLOBAL general_log = 'ON';
mysql&gt; exit
</pre></li></ul><ul><li>Run the following command to find MySQL file log file:
<pre class="wiki">shell&gt; mysql -u root -p -se "SHOW VARIABLES" | grep -e log_error -e general_log -e slow_query_log
</pre></li></ul><p>
Pay attention to the path in the <strong>general_log_file</strong> line. For example:
</p>
<pre class="wiki">general_log_file	/usr/local/mysql/data/dhcp-v044-069.log
</pre><ul><li>Monitor the ".log" files under this folder. In Linux and Mac, the following is an example command using "tail":
</li></ul><pre class="wiki">shell&gt; sudo tail -f /usr/local/mysql/data/*.log
</pre><p>
<span id="TomcatLoggingAws"></span>
</p>
<h1 class="section" id="a2.TomcatLoggingAWS">2. Tomcat Logging (AWS)</h1>
<p>
By default, Tomcat logging is enabled.
</p>
<ul><li>Monitor log files by running the command: 
<pre class="wiki">sudo tail -f HOME_OF_TOMCAT/logs/*
</pre></li><li>For instance: 
<pre class="wiki">sudo tail -f /home/ubuntu/tomcat/logs/*
</pre></li></ul><p>
<span id="TomcatLoggingDev"></span>
</p>
<h1 class="section" id="a3.TomcatLoggingDevmachineEclipse">3. Tomcat Logging (Dev machine + Eclipse)</h1>
<ul><li>After Eclipse starts, go to the <strong>Servers</strong> view and double-click the Tomcat server you're running.
</li></ul><p>
<a href="/wiki/public/attachment/wiki/cs122b-2019-winter-project1-logging/server-view.png" style="padding:0; border:none"><img src="/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-logging/server-view.png" /></a>
</p>
<ul><li>You will find a window like the image below. Click the link <strong>Open launch configuration</strong>.
</li></ul><p>
<a href="/wiki/public/attachment/wiki/cs122b-2019-winter-project1-logging/server-overview.png" style="padding:0; border:none"><img src="/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-logging/server-overview.png" /></a>
</p>
<ul><li>You will find a dialog window like the image below.
</li></ul><p>
<a href="/wiki/public/attachment/wiki/cs122b-2019-winter-project1-logging/launch-configuration.png" style="padding:0; border:none"><img src="/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-logging/launch-configuration.png" /></a>
</p>
<ul><li>Click on the <strong>Arguments</strong> section. The log files are stored in the folder <code>logs</code> of the path <code>-Dcatalina.base</code>.
</li></ul><ul><li>Change the directory to that folder and monitor the files as your browser sends requests to Tomcat.  On Ubuntu or MacOS, you can run the following command : <code>tail -f *</code>.
</li></ul></div>
        <div class="trac-modifiedby">
          <span>
            <a href="/wiki/public/wiki/cs122b-2019-winter-project1-logging?action=diff&amp;version=39" title="Version 39 by chenli">Last modified</a>
 <a class="timeline" href="/wiki/public/timeline?from=2019-01-15T13%3A27%3A13-08%3A00&amp;precision=second" title="See timeline at Jan 15, 2019, 1:27:13 PM">7 years ago</a>          </span>
          <span class="trac-print">
            Last modified on Jan 15, 2019, 1:27:13 PM
          </span>
        </div>
      </div>





<div id="attachments">
  <h3  class="foldable">
    Attachments
    <span class="trac-count">(3)</span></h3>
  <div>
    <ul>
      <li>
        <a href="/wiki/public/attachment/wiki/cs122b-2019-winter-project1-logging/launch-configuration.png" title="View attachment">launch-configuration.png</a><a href="/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-logging/launch-configuration.png"
          class="trac-rawlink" title="Download">&#8203;</a>
 (<span title="91085 bytes">89.0 KB</span>
) - added by <span class="trac-author">Dayue</span> <a class="timeline" href="/wiki/public/timeline?from=2019-01-14T21%3A36%3A16-08%3A00&amp;precision=second" title="See timeline at Jan 14, 2019, 9:36:16 PM">7 years ago</a>.
      </li>
      <li>
        <a href="/wiki/public/attachment/wiki/cs122b-2019-winter-project1-logging/server-overview.png" title="View attachment">server-overview.png</a><a href="/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-logging/server-overview.png"
          class="trac-rawlink" title="Download">&#8203;</a>
 (<span title="114730 bytes">112.0 KB</span>
) - added by <span class="trac-author">Dayue</span> <a class="timeline" href="/wiki/public/timeline?from=2019-01-15T10%3A45%3A20-08%3A00&amp;precision=second" title="See timeline at Jan 15, 2019, 10:45:20 AM">7 years ago</a>.
      </li>
      <li>
        <a href="/wiki/public/attachment/wiki/cs122b-2019-winter-project1-logging/server-view.png" title="View attachment">server-view.png</a><a href="/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-logging/server-view.png"
          class="trac-rawlink" title="Download">&#8203;</a>
 (<span title="28349 bytes">27.7 KB</span>
) - added by <span class="trac-author">Dayue</span> <a class="timeline" href="/wiki/public/timeline?from=2019-01-15T12%3A48%3A28-08%3A00&amp;precision=second" title="See timeline at Jan 15, 2019, 12:48:28 PM">7 years ago</a>.
      </li>
    </ul>
    <p>
  Download all attachments as:
  <a rel="nofollow" href="/wiki/public/zip-attachment/wiki/cs122b-2019-winter-project1-logging/">.zip</a>
</p>

  </div>
</div>
<div class="trac-help">
  <strong>Note:</strong>
 See   <a href="/wiki/public/wiki/TracWiki">TracWiki</a>
 for help on using the wiki.
</div>
    </div>
        <!-- # block content (content inherited from layout.html) -->
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first last">
          <a rel="nofollow" href="/wiki/public/wiki/cs122b-2019-winter-project1-logging?format=txt"
              class="">
            Plain Text</a>
        </li>
      </ul>
    </div>
    <!-- # endblock content (content inherited from layout.html) -->

      <!-- # endblock content (placeholder in theme.html) -->
    </div>

    <div id="footer"><hr/>
      <a id="tracpowered" href="https://trac.edgewall.org/"
         ><img src="/wiki/public/chrome/common/trac_logo_mini.png" height="30"
               width="107" alt="Trac Powered"/></a>
      <p class="left">
Powered by         <a href="/wiki/public/about"><strong>Trac 1.5.3</strong></a>
        <br />
 By         <a href="http://www.edgewall.org/">Edgewall Software</a>
.      </p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
    <!--   # include 'site_footer.html' (theme.html) -->
    <!--   end of site_footer.html -->
    <!-- # endblock body (content inherited from theme.html) -->
  </body> </html>